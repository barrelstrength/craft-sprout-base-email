!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){n(1),n(2),n(3),n(4),n(9),e.exports=n(11)},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=this,n=document.getElementById("notificationEvent");n.addEventListener("change",(function(e){t.toggleNotificationEventSettings(e.target)})),this.toggleNotificationEventSettings(n)}var t,o,i;return t=e,(o=[{key:"toggleNotificationEventSettings",value:function(e){var t=document.querySelectorAll(".event-options"),n=!0,o=!1,i=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0)r.value.classList.add("hidden")}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}var s=e.options[e.selectedIndex].value;if(void 0!==s&&""!==s){var c=s.replace(/\\/g,"-").toLowerCase(),d=document.querySelector("."+c);console.log(d),d.classList.remove("hidden")}}}])&&n(t.prototype,o),i&&n(t,i),e}();window.SproutEmailNotificationEventToggle=o},function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"===o(Craft.SproutEmail)&&(Craft.SproutEmail={}),Craft.SproutEmail.SentEmailElementEditor=Craft.BaseElementEditor.extend({showHud:function(e,t){if(this.onEndLoading(),"success"===t){var n=$();if(e.sites){var o=$('<div class="hud-header"/>'),i=$('<div class="select"/>').appendTo(o);this.$siteSelect=$("<select/>").appendTo(i),this.$siteSpinner=$('<div class="spinner hidden"/>').appendTo(o);for(var r=0;r<e.sites.length;r++){var a=e.sites[r];$('<option value="'+a.id+'"'+(a.id===e.siteId?' selected="selected"':"")+">"+a.name+"</option>").appendTo(this.$siteSelect)}this.addListener(this.$siteSelect,"change","switchSite"),n=n.add(o)}this.$form=$("<div/>"),this.$fieldsContainer=$('<div class="fields"/>').appendTo(this.$form),this.updateForm(e),this.onCreateForm(this.$form);var s=$('<div class="hud-footer"/>').appendTo(this.$form),c=$('<div class="buttons right"/>').appendTo(s);if(this.$cancelBtn=$('<div class="btn">'+Craft.t("app","Cancel")+"</div>").appendTo(c),this.$spinner=$('<div class="spinner hidden"/>').appendTo(c),n=n.add(this.$form),this.hud)this.hud.updateBody(n),this.hud.updateSizeAndPosition();else{var d=this.settings.hudTrigger||this.$element;this.hud=new Garnish.HUD(d,n,{bodyClass:"body elementeditor",closeOtherHUDs:!1,onShow:$.proxy(this,"onShowHud"),onHide:$.proxy(this,"onHideHud"),onSubmit:$.proxy(this,"saveElement")}),this.hud.$hud.data("elementEditor",this),this.hud.on("hide",$.proxy((function(){delete this.hud}),this))}n.find(".text:first").focus(),this.addListener(this.$cancelBtn,"click",(function(){this.hud.hide()}))}}})},function(e,t){var n=function(){};n.prototype.init=function(){var e=this;return e.initEmailPreview(),$(".prepare").on("click",(function(t){t.preventDefault();var n=$(t.target),o=null;"copypaste"===n.data("mailer")&&(o=e.createLoadingModal()),e.postToControllerAction(n.data(),(function(t,n){return t?e.createErrorModal(t):n.success?(null!=o&&(o.hide(),o.destroy()),void e.create(n.content)):e.createErrorModal(n.message)}))})),this},n.prototype.postToControllerAction=function(e,t){var n={url:window.location,type:"POST",data:e,cache:!1,dataType:"json",error:function(e,n,o){t(o)},success:function(e){t(null,e)}};n.data[Craft.csrfTokenName]=Craft.csrfTokenValue,$.ajax(n)},n.prototype.create=function(e){var t=this,n=$("#sproutmodal").clone(),o=n.html(e),i=$(".spinner",n),r=$(".actions",n);$(document).trigger("sproutModalBeforeRender",o),n.removeClass("hidden");var a=new Garnish.Modal(n);return t.initEmailPreview(),$("#close",n).on("click",(function(){Craft.elementIndex.updateElements(),a.hide(),a.destroy()})),$("#cancel",n).on("click",(function(){Craft.elementIndex.updateElements(),a.hide(),a.destroy()})),r.on("click",(function(e){e.preventDefault();var n=$(e.target);if(n.hasClass("preventAction"))n.removeClass("preventAction");else{i.removeClass("hidden");var o=n.data();if(""!==$("#recipients").val()){var r={recipients:$("#recipients").val()};o=$.extend(o,r)}$spin=n.parents(".footer").find(".send-spinner"),$spin.show(),t.postToControllerAction(o,(function(e,n){return $spin.hide(),a.hide(),a.destroy(),e?t.createErrorModal(e):n.success?(i.addClass("hidden"),void(a=t.create(n.content)).updateSizeAndPosition()):t.createErrorModal(n.message)}))}})),a},n.prototype.createErrorModal=function(e){var t=$("#sproutmodal-error").clone();$(".innercontent",t).html(e),(new n).create(t.html())},n.prototype.createLoadingModal=function(){var e=$("#sproutmodal-loading").clone();return $(".innercontent",e),(new n).create(e.html())},n.prototype.initEmailPreview=function(){$(".email-preview").on("click",(function(e){return e.preventDefault(),$this=$(e.target),$previewUrl=$this.data("preview-url"),window.open($previewUrl,"newwindow","width=920, height=600"),!1}))},$(document).on("sproutModalBeforeRender",(function(e,t){$(".btnSelectAll",t).off().on("click",(function(e){e.preventDefault(),$this=$(e.target),$target="#"+$this.data("clipboard-target-id"),$message=$this.data("success-message"),$content=$($target).select(),document.execCommand("copy"),Craft.cp.displayNotice($message)}))}))},function(e,t){},,,,,function(e,t){},,function(e,t){}]);